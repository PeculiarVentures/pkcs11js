<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>pkcs11js</title><meta name="description" content="Documentation for pkcs11js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">pkcs11js</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>pkcs11js</h2></div><div class="tsd-panel tsd-typography"><a id="md:pkcs11js" class="tsd-anchor"></a><h1 class="tsd-anchor-link">PKCS11js<a href="#md:pkcs11js" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://raw.githubusercontent.com/PeculiarVentures/graphene/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-green.svg?style=flat" alt="license"></a>
<img src="https://github.com/PeculiarVentures/pkcs11js/workflows/test/badge.svg" alt="test">
<a href="https://coveralls.io/github/PeculiarVentures/pkcs11js?branch=master"><img src="https://coveralls.io/repos/github/PeculiarVentures/pkcs11js/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://badge.fury.io/js/pkcs11js"><img src="https://badge.fury.io/js/pkcs11js.svg" alt="npm version"></a></p>
<p><a href="https://nodei.co/npm/pkcs11js/"><img src="https://nodei.co/npm/pkcs11js.png" alt="NPM"></a></p>
<p>PKCS11js is a package for direct interaction with the PKCS#11 API, the standard interface for interacting with hardware crypto devices such as Smart Cards and Hardware Security Modules (HSMs). It was developed to the PKCS#11 2.40 specification and has been tested with a variety of devices.</p>
<p><strong>Versioning Note:</strong></p>
<ul>
<li>Version 1.x was implemented using the <code>nan</code> module, which allowed the package to be built for older versions of Node.js.</li>
<li>Starting from version 2.x, the module has been rewritten to use <code>napi</code>. As a result, the minimum required Node.js version is now v18.</li>
</ul>
<p>For most use cases, we recommend our package <a href="https://github.com/PeculiarVentures/graphene">Graphene</a>, which provides a simplistic Object Oriented interface for interacting with PKCS#11 devices.</p>
<p>This was developed to the PKCS#11 2.40 specification. It should be easy enough to extend it for any new versions at a later date.</p>
<p>It has been tested with :</p>
<ul>
<li><a href="https://www.opendnssec.org/softhsm/">SoftHSM2</a></li>
<li><a href="https://www.thales-esecurity.com/products-and-services/products-and-services/hardware-security-modules/general-purpose-hsms/nshield-solo">Thales NShield</a></li>
<li><a href="http://www.safenet-inc.com/">Safenet Luna HSMs</a></li>
<li><a href="http://www.rutoken.ru/">RuToken</a></li>
</ul>
<p><strong>NOTE:</strong> For testing purposes it may be easier to work with SoftHSM2 which is a software implementation of PKCS#11 based on OpenSSL or Botan.</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span>
</code><button>Copy</button></pre>

<a id="md:documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Documentation<a href="#md:documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://peculiarventures.github.io/pkcs11js/">https://peculiarventures.github.io/pkcs11js/</a></p>
<a id="md:install-softhsm2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Install SoftHSM2<a href="#md:install-softhsm2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>For OSX see the <a href="https://github.com/opendnssec/SoftHSMv2/blob/develop/OSX-NOTES.md">instructions here</a></li>
<li>For linux <a href="https://github.com/opendnssec/SoftHSMv2/blob/develop/README.md">instructions here</a></li>
<li>For Windows <a href="https://github.com/disig/SoftHSM2-for-Windows#softhsm2-installer-for-ms-windows">instructions here</a></li>
</ul>
<a id="md:examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:example-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #1<a href="#md:example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&quot;pkcs11js&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">pkcs11</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-3">PKCS11</span><span class="hl-1">();</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">load</span><span class="hl-1">(</span><span class="hl-4">&quot;/usr/local/lib/softhsm/libsofthsm2.so&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Initialize</span><span class="hl-1">();</span><br/><br/><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// Getting info about PKCS11 Module</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">module_info</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetInfo</span><span class="hl-1">();</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// Getting list of slots</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">slots</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetSlotList</span><span class="hl-1">(</span><span class="hl-2">true</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">slot</span><span class="hl-1"> = </span><span class="hl-0">slots</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">];</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// Getting info about slot</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">slot_info</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetSlotInfo</span><span class="hl-1">(</span><span class="hl-0">slot</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-6">// Getting info about token</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">token_info</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetTokenInfo</span><span class="hl-1">(</span><span class="hl-0">slot</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// Getting info about Mechanism</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">mechs</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetMechanismList</span><span class="hl-1">(</span><span class="hl-0">slot</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">mech_info</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetMechanismInfo</span><span class="hl-1">(</span><span class="hl-0">slot</span><span class="hl-1">, </span><span class="hl-0">mechs</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">session</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_OpenSession</span><span class="hl-1">(</span><span class="hl-0">slot</span><span class="hl-1">, </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKF_RW_SESSION</span><span class="hl-1"> | </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKF_SERIAL_SESSION</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// Getting info about Session</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">info</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetSessionInfo</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Login</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-4">&quot;password&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-6">/**</span><br/><span class="hl-6">     * Your app code here</span><br/><span class="hl-6">     */</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Logout</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_CloseSession</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-5">catch</span><span class="hl-1">(</span><span class="hl-0">e</span><span class="hl-1">){</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">(</span><span class="hl-0">e</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-5">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Finalize</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #2<a href="#md:example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generating secret key using AES mechanism</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">template</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_SECRET_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My AES Key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_VALUE_LEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-7">256</span><span class="hl-1"> / </span><span class="hl-7">8</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_ENCRYPT</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_DECRYPT</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">];</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">key</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateKey</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_AES_KEY_GEN</span><span class="hl-1"> }, </span><span class="hl-0">template</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #3<a href="#md:example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generating key pair using RSA-PKCS1 mechanism</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">publicKeyTemplate</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_PUBLIC_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My RSA Public Key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_PUBLIC_EXPONENT</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">([</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">]) },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_MODULUS_BITS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-7">2048</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_VERIFY</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> }</span><br/><span class="hl-1">];</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">privateKeyTemplate</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_PRIVATE_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My RSA Private Key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_SIGN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">];</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateKeyPair</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_RSA_PKCS_KEY_PAIR_GEN</span><span class="hl-1"> }, </span><span class="hl-0">publicKeyTemplate</span><span class="hl-1">, </span><span class="hl-0">privateKeyTemplate</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #4<a href="#md:example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generating key pair using ECDSA mechanism</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">publicKeyTemplate</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_PUBLIC_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My EC Public Key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_EC_PARAMS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;06082A8648CE3D030107&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;hex&quot;</span><span class="hl-1">) }, </span><span class="hl-6">// secp256r1</span><br/><span class="hl-1">];</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">privateKeyTemplate</span><span class="hl-1"> = [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_PRIVATE_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My EC Private Key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_DERIVE</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">];</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateKeyPair</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_EC_KEY_PAIR_GEN</span><span class="hl-1"> }, </span><span class="hl-0">publicKeyTemplate</span><span class="hl-1">, </span><span class="hl-0">privateKeyTemplate</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-4-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #4<a href="#md:example-4-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Working with Object</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">nObject</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_CreateObject</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_DATA</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_PRIVATE</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My custom data&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-6">// Updating label of Object</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_SetAttributeValue</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">nObject</span><span class="hl-1">, [{ </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;My custom data!!!&quot;</span><span class="hl-1"> }]);</span><br/><br/><span class="hl-6">// Getting attribute value</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">label</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetAttributeValue</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">nObject</span><span class="hl-1">, [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1"> }</span><br/><span class="hl-1">]);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">label</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">].</span><span class="hl-0">value</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">()); </span><span class="hl-6">// My custom data!!!</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(!!</span><span class="hl-0">label</span><span class="hl-1">[</span><span class="hl-7">1</span><span class="hl-1">].</span><span class="hl-0">value</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">]); </span><span class="hl-6">// false</span><br/><br/><span class="hl-6">// Copying Object</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">cObject</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_CopyObject</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">nObject</span><span class="hl-1">, [</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">},</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">},</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_PRIVATE</span><span class="hl-1">},</span><br/><span class="hl-1">    { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">},</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-6">// Removing Object</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DestroyObject</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">cObject</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-4-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #4<a href="#md:example-4-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Searching objects</p>
<p><strong>NOTE:</strong> If template is not set for C_FindObjectsInit, then C_FindObjects returns all objects from slot</p>
<pre><code class="javascript"><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_FindObjectsInit</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, [{ </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_DATA</span><span class="hl-1"> }]);</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">hObject</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_FindObjects</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span><br/><span class="hl-5">while</span><span class="hl-1"> (</span><span class="hl-0">hObject</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">attrs</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetAttributeValue</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">hObject</span><span class="hl-1">, [</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1"> }</span><br/><span class="hl-1">    ]);</span><br/><span class="hl-1">    </span><span class="hl-6">// Output info for objects from token only</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">attrs</span><span class="hl-1">[</span><span class="hl-7">1</span><span class="hl-1">].</span><span class="hl-0">value</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">]){</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`Object #</span><span class="hl-2">${</span><span class="hl-0">hObject</span><span class="hl-2">}</span><span class="hl-4">: </span><span class="hl-2">${</span><span class="hl-0">attrs</span><span class="hl-9">[</span><span class="hl-7">2</span><span class="hl-9">].</span><span class="hl-0">value</span><span class="hl-9">.</span><span class="hl-3">toString</span><span class="hl-9">()</span><span class="hl-2">}</span><span class="hl-4">`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">hObject</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_FindObjects</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_FindObjectsFinal</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #5<a href="#md:example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Generating random values</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">random</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateRandom</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">20</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">random</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">(</span><span class="hl-4">&quot;hex&quot;</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">random</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">20</span><span class="hl-1">);</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateRandom</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">random</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">random</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">(</span><span class="hl-4">&quot;hex&quot;</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #6<a href="#md:example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Digest</p>
<pre><code class="javascript"><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DigestInit</span><span class="hl-1">(</span><span class="hl-0">_session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_SHA256</span><span class="hl-1"> });</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DigestUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message 1&quot;</span><span class="hl-1">));</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DigestUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message N&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">digest</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DigestFinal</span><span class="hl-1">(</span><span class="hl-0">_session</span><span class="hl-1">, </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">256</span><span class="hl-1"> / </span><span class="hl-7">8</span><span class="hl-1">));</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">digest</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">(</span><span class="hl-4">&quot;hex&quot;</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-7" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #7<a href="#md:example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Signing data</p>
<pre><code class="javascript"><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_SignInit</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_SHA256_RSA_PKCS</span><span class="hl-1"> }, </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">privateKey</span><span class="hl-1">);</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_SignUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message 1&quot;</span><span class="hl-1">));</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_SignUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message N&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">signature</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_SignFinal</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">256</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<p>Verifying data</p>
<pre><code class="javascript"><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_VerifyInit</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, { </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_SHA256_RSA_PKCS</span><span class="hl-1"> }, </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">publicKey</span><span class="hl-1">);</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_VerifyUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message 1&quot;</span><span class="hl-1">));</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_VerifyUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming message N&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">verify</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_VerifyFinal</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">signature</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-8" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #8<a href="#md:example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Encrypting data with AES-CBC mechanism</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">cbc_param</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GenerateRandom</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">));</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_EncryptInit</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">session</span><span class="hl-1">,</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_AES_CBC</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">parameter:</span><span class="hl-1"> </span><span class="hl-0">cbc_param</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">enc</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-0">enc</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-3">concat</span><span class="hl-1">([</span><span class="hl-0">enc</span><span class="hl-1">, </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_EncryptUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming data 1&quot;</span><span class="hl-1">), </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">))]);</span><br/><span class="hl-0">enc</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-3">concat</span><span class="hl-1">([</span><span class="hl-0">enc</span><span class="hl-1">, </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_EncryptUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-4">&quot;Incoming data N&quot;</span><span class="hl-1">), </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">))]);</span><br/><span class="hl-0">enc</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-3">concat</span><span class="hl-1">([</span><span class="hl-0">enc</span><span class="hl-1">, </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_EncryptFinal</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">))]);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">enc</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">(</span><span class="hl-4">&quot;hex&quot;</span><span class="hl-1">));</span>
</code><button type="button">Copy</button></pre>

<p>Decrypting data with AES-CBC mechanism</p>
<pre><code class="javascript"><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DecryptInit</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">session</span><span class="hl-1">,</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_AES_CBC</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">parameter:</span><span class="hl-1"> </span><span class="hl-0">cbc_param</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey</span><br/><span class="hl-1">);</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">dec</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-0">dec</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-3">concat</span><span class="hl-1">([</span><span class="hl-0">dec</span><span class="hl-1">, </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DecryptUpdate</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">enc</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">32</span><span class="hl-1">))]);</span><br/><span class="hl-0">dec</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-3">concat</span><span class="hl-1">([</span><span class="hl-0">dec</span><span class="hl-1">, </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DecryptFinal</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">Buffer</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">))]);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">dec</span><span class="hl-1">.</span><span class="hl-3">toString</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-9" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #9<a href="#md:example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Deriving key with ECDH mechanism</p>
<pre><code class="javascript"><span class="hl-6">// Receive public data from EC public key</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">attrs</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_GetAttributeValue</span><span class="hl-1">(</span><span class="hl-0">session</span><span class="hl-1">, </span><span class="hl-0">publicKeyEC</span><span class="hl-1">, [{ </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_EC_POINT</span><span class="hl-1"> }])</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">ec</span><span class="hl-1"> = </span><span class="hl-0">attrs</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">].</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">derivedKey</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_DeriveKey</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">session</span><span class="hl-1">,</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-0">mechanism:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKM_ECDH1_DERIVE</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">parameter:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CK_PARAMS_EC_DH</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">kdf:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">publicData:</span><span class="hl-1"> </span><span class="hl-0">ec</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-0">privateKeyEC</span><span class="hl-1">,</span><br/><span class="hl-1">    [</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_CLASS</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKO_SECRET_KEY</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_TOKEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">false</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_KEY_TYPE</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKK_AES</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_LABEL</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-4">&quot;Derived AES key&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_ENCRYPT</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-2">true</span><span class="hl-1"> },</span><br/><span class="hl-1">        { </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKA_VALUE_LEN</span><span class="hl-1">, </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-7">256</span><span class="hl-1"> / </span><span class="hl-7">8</span><span class="hl-1"> }</span><br/><span class="hl-1">    ]</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-10" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #10<a href="#md:example-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Initializing NSS crypto library</p>
<p>Use <code>options</code> parameter for <code>C_Initialize</code> function.</p>
<p><strong>Type</strong></p>
<pre><code class="ts"><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-10">InitializationOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">/**</span><br/><span class="hl-6">     * NSS library parameters</span><br/><span class="hl-6">     */</span><br/><span class="hl-1">    </span><span class="hl-0">libraryParameters</span><span class="hl-1">?: </span><span class="hl-10">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">/**</span><br/><span class="hl-6">     * bit flags specifying options for `C_Initialize`</span><br/><span class="hl-6">     * - CKF_LIBRARY_CANT_CREATE_OS_THREADS. True if application threads which are executing calls to the library</span><br/><span class="hl-6">     *   may not use native operating system calls to spawn new threads; false if they may</span><br/><span class="hl-6">     * - CKF_OS_LOCKING_OK. True if the library can use the native operation system threading model for locking;</span><br/><span class="hl-6">     *   false otherwise</span><br/><span class="hl-6">     */</span><br/><span class="hl-1">    </span><span class="hl-0">flags</span><span class="hl-1">?: </span><span class="hl-10">number</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><span class="hl-6">/**</span><br/><span class="hl-6"> * Initializes the Cryptoki library</span><br/><span class="hl-6"> * </span><span class="hl-2">@param</span><span class="hl-6"> </span><span class="hl-0">options</span><span class="hl-6"> Initialization options</span><br/><span class="hl-6"> * Supports implementation of standard `CK_C_INITIALIZE_ARGS` and extended NSS format.</span><br/><span class="hl-6"> * - if `options` is null or empty, it calls native `C_Initialize` with `NULL`</span><br/><span class="hl-6"> * - if `options` doesn&#39;t have `libraryParameters`, it uses `CK_C_INITIALIZE_ARGS` structure</span><br/><span class="hl-6"> * - if `options` has `libraryParameters`, it uses extended NSS structure</span><br/><span class="hl-6"> */</span><br/><span class="hl-3">C_Initialize</span><span class="hl-1">(</span><span class="hl-0">options</span><span class="hl-1">?: </span><span class="hl-0">InitializationOptions</span><span class="hl-1">): </span><span class="hl-2">void</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p><strong>Code</strong></p>
<pre><code class="js"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">mod</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">PKCS11</span><span class="hl-1">();</span><br/><span class="hl-0">mod</span><span class="hl-1">.</span><span class="hl-3">load</span><span class="hl-1">(</span><span class="hl-4">&quot;/usr/local/opt/nss/lib/libsoftokn3.dylib&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">mod</span><span class="hl-1">.</span><span class="hl-3">C_Initialize</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">libraryParameters:</span><span class="hl-1"> </span><span class="hl-4">&quot;configdir=&#39;&#39; certPrefix=&#39;&#39; keyPrefix=&#39;&#39; secmod=&#39;&#39; flags=readOnly,noCertDB,noModDB,forceOpen,optimizeSpace&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// Your code here</span><br/><br/><span class="hl-0">mod</span><span class="hl-1">.</span><span class="hl-3">C_Finalize</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSS/Reference/FC_Initialize">More</a> info about NSS params for <code>C_Initialize</code></p>
<a id="md:example-11" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example #11<a href="#md:example-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Detect a slot event</p>
<pre><code class="javascript"><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&quot;pkcs11js&quot;</span><span class="hl-1">);</span><br/><span class="hl-2">var</span><span class="hl-1"> </span><span class="hl-0">pkcs11</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-3">PKCS11</span><span class="hl-1">();</span><br/><span class="hl-6">// Need a compliant Cryptoki Version 2.01 or later</span><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">load</span><span class="hl-1">(</span><span class="hl-4">&quot;/usr/local/lib/softhsm/libsofthsm2.so&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Initialize</span><span class="hl-1">();</span><br/><br/><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-8">slotId</span><span class="hl-1"> = </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_WaitForSlotEvent</span><span class="hl-1">(</span><span class="hl-0">pkcs11js</span><span class="hl-1">.</span><span class="hl-8">CKF_DONT_BLOCK</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">slotId</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`Slot </span><span class="hl-2">${</span><span class="hl-0">slotId</span><span class="hl-2">}</span><span class="hl-4"> has been inserted`</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`No slot event`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">} </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-0">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">(</span><span class="hl-0">e</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-5">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">pkcs11</span><span class="hl-1">.</span><span class="hl-3">C_Finalize</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:suitability" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Suitability<a href="#md:suitability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>At this time this solution should be considered suitable for research and experimentation, further code and security review is needed before utilization in a production application.</p>
<a id="md:bug-reporting" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Bug Reporting<a href="#md:bug-reporting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Please report bugs either as pull requests or as issues in the issue tracker. Graphene has a full disclosure vulnerability policy. Please do NOT attempt to report any security vulnerability in this code privately to anybody.</p>
<a id="md:related" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Related<a href="#md:related" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="http://docs.oasis-open.org/pkcs11/pkcs11-curr/v2.40/pkcs11-curr-v2.40.html">PKCS #11 2.40 Specification</a></li>
<li><a href="http://www.cryptsoft.com/pkcs11doc/">Many PKCS #11 Specifications</a></li>
<li><a href="http://www.lsv.ens-cachan.fr/Publis/PAPERS/PDF/BCFS-ccs10.pdf">Attacking and Fixing PKCS#11 Security Tokens</a></li>
<li><a href="https://github.com/dotse/p5-crypt-pkcs11">PERL PKCS #11 binding</a></li>
<li><a href="https://github.com/jariq/Pkcs11Interop">.NET PKCS #11 binding</a></li>
<li><a href="https://github.com/larskanis/pkcs11">Ruby PKCS #11 binding</a></li>
<li><a href="https://github.com/ANSSI-FR/caml-crush">OCaml PKCS #11 binding</a></li>
<li><a href="https://github.com/ANSSI-FR/opkcs11-tool">OCaml PKCS #11 CLI</a></li>
<li><a href="https://github.com/miekg/pkcs11">Go PKCS #11 binding</a></li>
<li><a href="http://www.pkcs11admin.net">PKCS #11 Admin</a></li>
<li><a href="https://github.com/node-ffi/node-ffi">Node.js Foreign Function Interface</a></li>
<li><a href="https://github.com/romanovskiy-k/pkcs11/blob/master/rtpkcs11t.h">GOST PKCS#11 constants</a></li>
<li><a href="https://github.com/jariq/pkcs11-logger">PKCS#11 logging proxy module</a></li>
<li><a href="https://github.com/iksaif/pkcs11-proxy">PKCS#11 Proxy</a></li>
<li><a href="https://github.com/google/pkcs11test">PKCS#11 Tests</a></li>
<li><a href="http://sourceforge.net/projects/opencryptoki/">OpenCryptoKi</a></li>
<li><a href="https://www.opendnssec.org/softhsm/">SoftHSM</a></li>
<li><a href="https://github.com/disig/SoftHSM2-for-Windows/">SofHSM2 for Windows</a></li>
<li><a href="https://github.com/santigimeno/node-pcsclite">node-pcsc</a></li>
<li><a href="https://tools.ietf.org/html/rfc7512">PKCS#11 URIs</a></li>
<li><a href="http://www.keylength.com/en/compare/">Key Length Recommendations</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:pkcs11js"><span>PKCS11js</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:documentation"><span>Documentation</span></a></li><li><ul><li><a href="#md:install-softhsm2"><span>Install <wbr/>SoftHSM2</span></a></li></ul></li><li><a href="#md:examples"><span>Examples</span></a></li><li><ul><li><a href="#md:example-1"><span>Example #1</span></a></li><li><a href="#md:example-2"><span>Example #2</span></a></li><li><a href="#md:example-3"><span>Example #3</span></a></li><li><a href="#md:example-4"><span>Example #4</span></a></li><li><a href="#md:example-4-1"><span>Example #4</span></a></li><li><a href="#md:example-4-2"><span>Example #4</span></a></li><li><a href="#md:example-5"><span>Example #5</span></a></li><li><a href="#md:example-6"><span>Example #6</span></a></li><li><a href="#md:example-7"><span>Example #7</span></a></li><li><a href="#md:example-8"><span>Example #8</span></a></li><li><a href="#md:example-9"><span>Example #9</span></a></li><li><a href="#md:example-10"><span>Example #10</span></a></li><li><a href="#md:example-11"><span>Example #11</span></a></li></ul></li><li><a href="#md:suitability"><span>Suitability</span></a></li><li><a href="#md:bug-reporting"><span>Bug <wbr/>Reporting</span></a></li><li><a href="#md:related"><span>Related</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>pkcs11js</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
